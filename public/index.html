<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>DiffNator - The Ultimate Visual Comparison Tool</title>
    <link rel="icon" href="data:," />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <button id="toggleDrawer" class="drawer-toggle" title="Toggle Controls">☰</button>

    <section class="controls toolbar collapsed" id="controlsDrawer">
      <button id="closeDrawer" class="drawer-close" title="Close Controls">×</button>
      <div id="notice" class="notice" style="display:none;"></div>

      <div class="field url">
        <label for="url1">URL A</label>
        <input id="url1" type="text" placeholder="https://example.com or /path/to/file.html" value="https://example.com" />
        <div style="margin-top:8px; display:flex; gap:8px; align-items:center;">
          <input id="uploadA" type="file" accept="image/*" />
          <button id="clearUploadA" type="button" class="primary" style="padding:6px 10px; font-size:12px;">Clear A</button>
        </div>
      </div>

      <div class="field url">
        <label for="url2">URL B</label>
        <input id="url2" type="text" placeholder="https://example.com or /path/to/file.html" value="http://localhost:3000" />
        <div style="margin-top:8px; display:flex; gap:8px; align-items:center;">
          <input id="uploadB" type="file" accept="image/*" />
          <button id="clearUploadB" type="button" class="primary" style="padding:6px 10px; font-size:12px;">Clear B</button>
        </div>
      </div>

      <div class="field render">
        <label for="renderMode">Render</label>
        <select id="renderMode">
          <option value="iframe">Live (iframe)</option>
          <option value="proxy" selected>Live (proxy)</option>
          <option value="screenshot">Screenshot</option>
        </select>
      </div>

      <div class="field mode">
        <label for="compareMode">Mode</label>
        <select id="compareMode">
          <option value="overlay" selected>Overlay</option>
          <option value="sbs">Side-by-side</option>
        </select>
      </div>

      <div class="field" id="overlayModeField">
        <label for="overlayMode">Overlay</label>
        <select id="overlayMode">
          <option value="onion" selected>Onion (opacity)</option>
          <option value="swipe">Swipe</option>
          <option value="blend">Blend (difference)</option>
        </select>
      </div>

      <div class="field" id="opacityField">
        <label for="opacity">Opacity</label>
        <input id="opacity" type="range" min="0" max="100" value="60" />
      </div>

      <div class="field" id="swipeField" style="display:none;">
        <label for="swipe">Swipe</label>
        <input id="swipe" type="range" min="0" max="100" value="50" />
      </div>

      <div class="field interact" id="interactField" style="display:none;" title="Choose which page is interactive in overlay">
        <label for="interactMode">Interact</label>
        <select id="interactMode">
          <option value="none">None</option>
          <option value="a" selected>URL A (default)</option>
          <option value="b">URL B</option>
        </select>
      </div>

      <div class="field range">
        <label for="widthSlider">Width <span id="widthValue">1440</span>px</label>
        <input id="widthSlider" type="range" min="320" max="3840" value="1440" step="10" />
      </div>

      <div class="field small">
        <label for="width">W</label>
        <input id="width" type="number" min="200" max="4000" value="1440" />
      </div>

      <div class="field small">
        <label for="dpr">DPR</label>
        <select id="dpr">
          <option value="1">1x</option>
          <option value="1.5">1.5x</option>
          <option value="2" selected>2x</option>
          <option value="3">3x</option>
        </select>
      </div>

      <div class="field small">
        <label for="wait">Wait</label>
        <input id="wait" type="number" min="0" max="60000" value="2000" />
      </div>

      <div class="field small">
        <label for="offset1">Off A</label>
        <input id="offset1" type="number" value="0" step="1" />
      </div>
      <div class="field small">
        <label for="offset2">Off B</label>
        <input id="offset2" type="number" value="0" step="1" />
      </div>

      <div class="field align-end">
        <button id="refreshBtn" class="primary">Refresh</button>
      </div>
      <div class="controls-hint">Tip: Scroll works better when mouse pointer is outside of the viewport.</div>
    </section>

    <section class="view">
      <div id="overlayView" class="overlay">
        <div class="canvas" id="overlayCanvas" style="--canvas-width: 1440px; --canvas-height: 900px;">
          <div class="img-wrapper bottom" id="wrap1">
            <img id="img1" alt="First screenshot" />
            <iframe id="iframe1" style="display:none;" title="First page"></iframe>
          </div>
          <div class="img-wrapper top" id="wrap2">
            <img id="img2" alt="Second screenshot" />
            <iframe id="iframe2" style="display:none;" title="Second page"></iframe>
          </div>
          <div id="swipeHandle" class="swipe-handle" style="display:none;"></div>
          <div id="foldLine" class="fold-line" style="display:none;"></div>
        </div>
        <!-- Inline offset controls (overlay only) -->
        <div class="offset-controls left" id="offsetCtrlA" aria-label="Offset A" style="display:none;">
          <div class="offset-title">URL A</div>
          <div class="hz-controls">
            <div class="row">
              <button class="offset-btn" id="hoffALeft" title="Move URL A left">←</button>
              <div style="width:8px;"></div>
              <button class="offset-btn" id="hoffARight" title="Move URL A right">→</button>
            </div>
            <div class="row">
              <button class="offset-btn" id="zoomAOut" title="Zoom out URL A">-</button>
              <div class="offset-val" id="zoomAVal">100%</div>
              <button class="offset-btn" id="zoomAIn" title="Zoom in URL A">+</button>
            </div>
          </div>
          <button class="offset-btn up" id="offsetAUp" title="Move URL A up">↑</button>
          <div class="offset-val" id="offsetAVal">0 px</div>
          <button class="offset-btn down" id="offsetADown" title="Move URL A down">↓</button>
        </div>
        <div class="offset-controls right" id="offsetCtrlB" aria-label="Offset B" style="display:none;">
          <div class="offset-title">URL B</div>
          <div class="hz-controls">
            <div class="row">
              <button class="offset-btn" id="hoffBLeft" title="Move URL B left">←</button>
              <div style="width:8px;"></div>
              <button class="offset-btn" id="hoffBRight" title="Move URL B right">→</button>
            </div>
            <div class="row">
              <button class="offset-btn" id="zoomBOut" title="Zoom out URL B">-</button>
              <div class="offset-val" id="zoomBVal">100%</div>
              <button class="offset-btn" id="zoomBIn" title="Zoom in URL B">+</button>
            </div>
          </div>
          <button class="offset-btn up" id="offsetBUp" title="Move URL B up">↑</button>
          <div class="offset-val" id="offsetBVal">0 px</div>
          <button class="offset-btn down" id="offsetBDown" title="Move URL B down">↓</button>
        </div>
      </div>

      <div id="sbsView" class="sbs" style="display:none;">
        <div class="sbs-col">
          <img id="sbs1" alt="First screenshot (SxS)" />
          <iframe id="sbsIframe1" style="display:none;" title="First page (SxS)"></iframe>
        </div>
        <div class="sbs-col">
          <img id="sbs2" alt="Second screenshot (SxS)" />
          <iframe id="sbsIframe2" style="display:none;" title="Second page (SxS)"></iframe>
        </div>
      </div>
    </section>

    

    <script src="app.js"></script>
  </body>
  </html>


